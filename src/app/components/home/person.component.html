<div class="form" *ngIf="showAddPerson">
  <md-card>
    <md-card-title>Add person</md-card-title>
    <md-card-content>
      <form #personForm="ngForm">
        <md-input placeholder="First Name" ngControl="firstName"></md-input>
        <md-input placeholder="Last Name" ngControl="lastName"></md-input>
        <md-radio-group ngControl="gender">
          <md-radio-button value="Female">Female</md-radio-button>
          <md-radio-button value="Male">Male</md-radio-button>
          <md-radio-button value="Other">Other</md-radio-button>
        </md-radio-group>
        <md-input placeholder="ImageURL" ngControl="imageURL"></md-input>
        <!-- TODO Implement this as md-select when available -->
        <md-input placeholder="Relationship" ngControl="relationship"></md-input>
      </form>
    </md-card-content>
    <md-card-actions align="end">
      <button md-raised-button color="accent" (click)="cancelAdd()">CANCEL</button>
      <button md-raised-button color="accent" (click)="onSubmit(personForm.value)" >ADD</button>
    </md-card-actions>
  </md-card>
</div>
<add-immunization [personIndex]="personIndex" (addImmunizationEvent)="onAddImmunizationEvent($event)" *ngIf="showAddImmunization"></add-immunization>
<div class="vax-card" *ngIf="!showAddPerson && personIndex >= 0 && !showAddImmunization">
  <md-card>
    <div class="vax-card-header">
      <md-card-title>Vaccinations for {{person.firstName}} {{person.lastName}} ({{person.relationship}})</md-card-title>
      <button md-fab (click)="onAddImmunizationClick()">
        <md-icon>add</md-icon>
      </button>
    </div>
    <md-card-content>
      <md-list>
        <h3 md-subheader>Upcoming Vaccinations</h3>
        <md-list-item *ngFor="let upcomingVax of person.upcoming">
          <h4 md-line>{{upcomingVax.name}}</h4>
          <p md-line>{{upcomingVax.date}}</p>
        </md-list-item>
        <p md-subheader *ngIf="!person.upcoming">
          NONE
        </p>
        <md-divider></md-divider>
        <h3 md-subheader>Completed Vaccinations</h3>
        <md-list-item *ngFor="let vax of person.completed">
          <h4 md-line>{{vax.name}}</h4>
          <p md-line>{{vax.date}}</p>
        </md-list-item>
        <p md-subheader *ngIf="!person.completed">
          NONE
        </p>
      </md-list>
    </md-card-content>
  </md-card>
</div>
